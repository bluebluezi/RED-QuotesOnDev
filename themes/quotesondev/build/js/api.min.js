!function(e){e((function(){e(".random-quote").on("click",(function(o){o.preventDefault(),e.ajax({method:"GET",url:red_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[post_per_page]=1"}).done((function(o){const t=e(".the-author")[0];e(t).empty(),o.forEach(o=>{t.innerHTML="&mdash; "+o.title.rendered,e(".the-quote").innerHTML=o.content.rendered,console.log(o._qod_quote_source),o._qod_quote_source&&o._qod_quote_source_url?e(".the-author").append(`, <a href = "${o._qod_quote_source_url}">${o._qod_quote_source}</a></span>`):o._qod_quote_source&&t.append(`${o._qod_quote_source}`)});const n=o[o.length-1].link;console.log(n);const u=n.replace("t:8888","t:3000");history.pushState(null,"",u),console.log("replaced")}))})),e("#submit-quote-button").on("click",(function(o){o.preventDefault();const t=e("#input-author").val(),n=e("#input-quote").val(),u=e("#input-source-name").val(),r=e("#input-source-url").val();console.log(t),console.log(n),console.log(u),console.log(r),e.ajax({method:"POST",url:red_vars.rest_url+"wp/v2/posts/",data:{title:t,content:n,_qod_quote_source:u,_qod_quote_source_url:r,status:"pending"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done((function(o){e("#submit-quote-form").trigger("reset"),console.log("this is reponse"),console.log(o),alert("Success! Your quote has been submitted.")})).fail((function(){alert("Hmmm something went wrong...failed to submit.")}))}))}))}(jQuery);